<!DOCTYPE html>
<html lang="en" ng-app="App" xmlns="http://www.w3.org/1999/html">
<!--чтобы ангулар использовал наш модуль, задаём в качестве значениия дериктивы ng-app- имя нашего модуля  -->
<head>
    <meta charset="UTF-8">
    <title>AngularJs learning...Hello world</title>
    <!--подключаем ангулар -->
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.5.0-rc.2/angular.js"></script>
    <!-- Latest compiled and minified CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous">
    <!-- Optional theme -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap-theme.min.css" integrity="sha384-fLW2N01lMqjakBkx3l/M9EahuwpSfeNvV63J5ezn3uZzapT0u7EYsXMjQV+0En5r" crossorigin="anonymous">
    <!--ссылки на уроки -->
    <a href="https://www.youtube.com/watch?v=kWDVt6zpBbU&list=PLOCGGVKsBaGEfVDPYR2E2xFTDiKXY4o9h&index=1">Video-tutorial youtube-file</a>
    <a href="https://www.youtube.com/watch?v=AdUj09-no4g&index=1&list=PLwNMk5BYG9ELKK9fvkFb9J_B35_GGNHb1">Video-tutorial-second parth youtube-file</a>
    <script src="app.js"></script>
    <!--
    <script>

        // Модель
        var model = "Hello world";

        // AngularJS прилоежние состоит из одного или нескольких модулей.
        // angular.module - создание нового angularJS модуля.
        // первый параметр - имя модуля для создания или получения
        // второй мараметр - Набор модулей, от которых будет зависить создаваемый модуль. Если параметр указан, то новый модуль будет создан.
        // https://docs.angularjs.org/api/ng/function/angular.module

        // Создаём модуль
        var App = angular.module("App", []);

        // Контроллер
        // В AngularJS переменные которые начинаются с символа $ являются встроенными элементами фрэймворка.
        // $scope - используется для передачи данных в представление.
        // .controller - метод создающий контроллер.
        // первый параметр - имя контроллера (<Name>Ctrl соглашение по именованию контроллеров)
        // второй параметр - функция контроллера
        App.controller("HelloWorldCtrl", function ($scope) {
            $scope.message = model;
            // скоуп - изначально пустой объект, куда мы добавляем свойства и методы, чтобы html разметка могла вывести наш объект

            // Поведение / Behavior
            $scope.clickHandler = function () { // берёт значение свойства текст на скоупе и записывает в мессаже
                $scope.message = $scope.text; // значение свойства скоупа text записывается из input, если будет что-то введено
            }
        });
        App.controller('AppCtrl', function($scope){ //второй контроллер
            $scope.items = [{name:'Item 1', value:'value 1', property1:"Test Val 1" },
                {name:'Item 2', value:'value 2', property1:"Test Val 2"},
                {name:'Item 3', value:'value 3', property1:"Test Val 3"},
                {name:'Item 4', value:'value 4', property1:"Test Val 4"},
                {name:'Item 5', value:'value 5', property1:"Test Val 5"},
                {name:'Item 6', value:'value 6', property1:"Test Val 6"}];
        });
        App.controller('SelectCtrl', function($scope){ //третий контроллер
            $scope.items = ['Item 1','Item 2', 'Item 3','Item 4','Item 5','Item 6'];
            $scope.selected = 'Item 1'; //выбранное по умолчанию  значение массива для  <select> <options>
        });
        App.controller('SelectObjectCtrl', function($scope){ //второй контроллер
            $scope.items = [{prop1:'Item 1', prop2:1 }, //определяем массив, содержащий несколько объектов
                {prop1:'Item 2', prop2:2},
                {prop1:'Item 3', prop2:3},
                {prop1:'Item 4', prop2:4},
                {prop1:'Item 5', prop2:5},
                {prop1:'Item 6', prop2:6}];
            $scope.selected = $scope.items[0]; //выбранное по умолчанию  значение массива для <select> <options>
        });
    </script>
    -->
<style> <!--создаем класс для строк таблицы -->
    .class1 {
        background-color: lightcoral;
    }
    .class2 {
        background-color: lightblue;
    }
    .lightGreen {
        background-color: lightgreen;
    }
    .lightBlue {
        background-color: lightblue;
    }
    .lightCoral {
        background-color: lightcoral;
    }
    div.test {
        background-color: green;
        width: 100px;
        height: 100px;
        color: white;
        padding: 4px;
    }
    .test-div {
        border: 1px solid black;
        border-radius: 3px;
        width: 100px;
        height: 100px;
        padding: 10px;
        margin: 10px;
    }
    .color {
        background-color: lightgreen;
    }
    .border {
        border: 1px solid black;
    }
    .size {
        width: 100px;
        height: 100px;
        padding: 10px;
        margin: 10px;
    }
    .green {
        color: green;
    }
    .red {
        color: red;
    }
    #d1, #d2, #d3, #d4, #d5, #d6, #d7, #d8, #d9 {
        display: inline-block;
        border: 1px solid black;
        border-radius: 3px;
        margin: 14px;
        padding: 30px;
    }
    #d1, #d4, #d7 {
        background-color: lightblue;
    }
    #d2, #d5, #d8 {
    background-color: lightcoral;
    }
    #d3, #d6, #d9 {
    background-color: lightgreen;
    }
</style>
</head>
<!-- ng-controllrer - атрибут определяет область разметки, за которую будет отвечать контроллер -->
<body ng-cloak> <!--до полной загрузки страницы директива ng-cloak предотвращает отображение шаблонов {{}} в
динамических элементах страницы, рекомендуется её вставлять в боди или блоки страницы содержащие динамические элементы,
 аналогично display-none -->
<div ng-controller="HelloWorldCtrl">
<h1>{{message}}</h1>
<!--ng-model - указывает что поле ввода связанно со свойством $scope.text-->
<input type="text" ng-model="text" placeholder="newText" />
<!--ng-click - определяет обработчик события click-->
<button ng-click="clickHandler()">Изменить текст</button>
</div> <br />
<div ng-controller="AppCtrl"> <!--однонаправленная и двунаправленная привязка -->
    <p>There are {{items.length}} items.</p><!--однонаправленная привязка от модели к представлению -->
    There are <span ng-bind="items.length">Этот текст будет замещен в результате выполнения директивы</span> items.<!--директива выполняющая замену содержимого html-элемента на
     на значение, полученное через установленное в директиве-->
    <p ng-bind-template="First item: {{items[0].name}}. Second item: {{items[1].name}}. Third item: {{items[2].name}}."></p>
    <!--директива, которая замещает элемент данными, полученными в результате выполнения директивы, директива может
     содержать несколько выражений-->
    <p ng-non-bindable>AngularJs uses {{snippets}} characters for templates</p> <!-- -->
    <ul><li ng-repeat="item in items">{{item.name}}</li></ul> <!-- директива повторяет выбранное свойство/список элементов
    для каждого объекта массива-->
    <input type="text" value="{{items[0].name}}"/> <!--однонаправленная привязка, помещает в поле ввода свойство
    элемента массива -->
    <div>Double way binding: <input ng-model="items[2].name"/></div> <!--двунаправленная привязка, помещает в поле ввода свойство
    элемента массива, меняя его прии изменени ввода пользователем -->
</div> <br />
<div ng-controller="SelectCtrl"> <!--ng-options используется для динамической генерации <option>  для <select> -->
    <select ng-model="selected" ng-options="item for item in items"></select> <!--через ng-model привязывается
     к свойству скоупа selected и с помощью директивы ng-option генерирует выпадающий список-->
     <!--значение_для_текста for элемент in коллекция
     использовать значение item как текст элемента при этом извлекать item из коллекции items-->
</div> <br />
<div ng-controller="SelectObjectCtrl"> <!--ng-options используется для динамической генерации <option>  для <select> -->
    selected text: {{selected.prop1}} <br />
    selected value: {{selected.prop2}} <br />
    <select ng-model="selected" ng-options="item.prop1 for item in items track by item.prop2"></select>
    <br />
    <!--через ng-model привязывается
     к свойству скоупа selected и с помощью директивы ng-option генерирует выпадающий список-->
    <!--значение_для_текста for элемент in коллекция
    использовать свойство prop1 для текста элемента при этом использоать свойство prop2 как значение value элемента option,
    обрабатывать все элементы, которые находятся в коллекции items-->
</div>
<div ng-controller="SwitchCtrl" class="container"> <!-- ng-switch используется для переключения структуры DOM на основе
 выражения. В отличие от ng-include, директива не производит перезагрузку с сервера данных, а делает видимым один из
 элементов, которые уже есть в DOM -->
    Шаблон <select ng-model="mode" ng-options="item.display for item in options track by item.value"></select>
    <!--отображать список элементов в массиве options, при этом отображать свойство display, а значение которые будут
    испоьзоваться как value, это свойство item.value этих элементов -->
    <div ng-switch on="mode.value" style="margin-top:20px;"><!-- работает некорректно, показывает всё, а не выбранное, нужно разобраться где ошибка-->
        <table class="table" ng-swithc-when="table">
            <thead>
            <tr>
                <th>Name</th>
                <th>Value</th>
            </tr>
            </thead>
            <tr ng-repeat="item in items">
                <td>{{item.name}}</td>
                <td>{{item.value}}</td>
            </tr>
        </table>
        <ul class="list-group" ng-swithc-when="list">
            <li ng-repeat="item in items" class="list-group-item list-group-item-info">{{item.name}}:{{item.value}}</li>
        </ul>
        <ol class="list-group" ng-swithc-when="budges">
            <li ng-repeat="item in items" class="list-group-item">
                <span class="badge">{{item.value}}</span>
                {{item.name}}
            </li>
        </ol>
    </div>
</div>
<div ng-controller="AppCtrl"><!-- подключаем контроллер и создаем таблицу, подключаем стили для строк-->
    <h3 class="panel-header">Items</h3> <!-- используем классы подключенного бутстрапа-->
    <table class="table table-hover">
        <thead>
        <tr>
            <th>#</th>
            <th>Name</th>
            <th>Value</th>
            <th>Property1</th>
        </tr>
        </thead>
        <tbody>
        <tr ng-repeat="item in items" ng-class="$even ? 'class1' : 'class2'"> <!-- генерируем элементы <tr> директивой
        в соответствии с количеством объектов массиваи применяем класс к строкам с помощью выражения в ng-class,
        где переменная $even содержит true если элемент четный, false - если нечетный, переменнная $odd делает всё наоборот,
         если отключить table-hover, то будет меняться окраска с розового на голубой -->
            <td>{{$index+1}}</td> <!--$index - встроенная переменная содержащая номер итерации -->
            <td>{{item.name}}</td>
            <td>{{item.value}}</td>
            <td>{{item.property1}}</td>
        </tr>
        </tbody>
    </table>
</div>
<div ng-controller="AppCtrl"> <!--вложенные директив ng-repeat, получаем три параграфа со вложенными спанами -->
    <h3 class="panel-header">List</h3>
    <p ng-repeat="item in items"> <!-- создать параграф для каждого элемента items в скоупе, используем свойство item из items,
    свойство из скоупа, который является массивом, т.е перебираем свойства массива -->
        <span ng-repeat="property in item">{{property}}</span> <!--создать спан для каждого свойства в массиве объектов item,
         т.е перебираем свойства объекта, а не массива-->
    </p>
</div>
<div ng-controller="AppCtrl"> <!--с помощью директивы ng-repeat и специального синтаксиса, который позволяет осуществить обход
всех свойств объекта item, key - имя свойства т.е каждое свойство, которое есть в item будет помещаться в сгенерированный
объект (key, value), где имя свойства будет помещаться в key, а свойство в value-->
    <h3 class="panel-header">List</h3>
    <p ng-repeat="item in items">
        <span ng-repeat="(key, value) in item">{{key}}={{value}}, </span>
    </p>
</div>
<div ng-controller="AppCtrl"><!-- подключаем контроллер и создаем таблицу, подключаем стили для строк-->
    <h3 class="panel-header">Items</h3>
    <table class="table">
        <thead>
        <tr>
            <th>#</th>
            <th>Name</th>
            <th>Value</th>
            <th>Property1</th>
        </tr>
        </thead>
        <tbody>
        <tr ng-repeat="item in items">
            <td>
                {{$index+1}}
                <span ng-if="$first" class="class1">First</span> <!--ng-if выводит или удаляет элемент - надпись First
                из ДОМ-дерева в зависимости от выражения  переменной $first - true/false-->
                <span ng-if="$last" class="class2">Last</span> <!--переменная $first и $last содержит значение true/false
                 если элемент первый/последний в коллекции-->
            </td><!--$index - встроенная переменнаясодержащая номер итерации -->
            <td>{{item.name}}</td>
            <td>{{item.value}}</td>
            <td>{{item.property1}}</td>
        </tr>
        </tbody>
    </table>
</div>
<script> alert('до полной загрузки страницы директива ng-cloak предотвращает отображение шаблонов {{}} в динамических элементах страницы, рекомендуется ' +
        'её вставлять в боди или блоки страницы');
</script>
<div ng-controller="AppCtrl"><!-- используем директивы ng-repeat-start ng-repeat-end для повторения серии элементов,
делает произвольный участок html-кода повторяющимся-->
    <h3 class="panel-header">Items</h3>
        <p ng-repeat-start="item in items">№ {{$index+1}}</p>
            <span>{{item.name}}</span>
            <span>{{item.value}}</span>
            <span>{{item.property1}}</span>
        <br ng-repeat-end />
</div>
<div ng-controller="AppCtrl"><!--ng-include - Директива для скачивания, компиляции и добавления фрагмента HTML в документ.
 URL должен принадлежать тому же домену. с которого загружена данная страница. HTML фрагмент загружается с сервера с помощью
  AJAX запроса. Варианты использования:-->
    <h1>HTML element</h1><!-- отдельный HTML элемент-->
    <ng-include src="url" ></ng-include> <!-- подключили директиву и указали откуда будет подгружаться: свойство
    скоупа контроллера url, в котором указано значение table.html, скачивает с сервера из файла table.html эту разметку
     таблицы и вставляет в то место, где указана наша директива-->

    <h3>attribute</h3><!-- синтаксис использования директивы через атрибут-->
    <span ng-include="url"></span><!-- по адресу url скачиваем с сервера и вставляет в спан-->

    <h3>CSS class</h3><!-- синтаксис использования директивы через CSS класс-->
    <span class="ng-include: url;"></span><!-- по адресу url скачиваем с сервера и вставляет в спан-->
</div>
<div ng-controller="AppCtrl" class="container" style="margin-top:10px;"> <!-- использование директивы ng-include
 с вариантами загрузки в виде списка или таблицы-->
    <div class="btn-group"> <!-- при нажатии кнопки меняется значение свойства url, при этом происходит загрузка нового
    фрагмента, который задан поведением для директивы ng-switch в скоупе-->
        <button class="btn btn-default" ng-click="showList()">Show as List</button> <!--объединили обе кнопки классом
        из бутстрапа, у кнопок есть привязанное через директиву ng-click поведение, которое меняет при нажатии
        кнопки свойство url -->
        <button class="btn btn-default" ng-click="showTable()">Show as Table</button>
    </div>
<ng-include src="url"></ng-include> <!-- директива ng-include привязана к свойству url, как только меняется свойство
url при нажатии кнопок, происходит запрос на сервер и директива ng-include показывает нам соответствующую разметку с
разным представлением одних и тех же данных -->
</div>
<div ng-controller="DirectCtrl"> <!--директивы ng-hide, ng-show, ng-if + работаем со стилями -->
    <input type="checkbox" ng-model="hideElem1" /> Hide Elem 1
    <input type="checkbox" ng-model="hideElem2" /> Hide Elem 2
    <input type="checkbox" ng-model="hideElem3" /> Hide Elem 3
    <input type="checkbox" ng-model="showElem4" /> Show Elem 4
    <input type="checkbox" ng-model="showElem5" /> Show Elem 5
    <input type="checkbox" ng-model="showElem6" /> Show Elem 6
    <input type="checkbox" ng-model="removeElem7" /> Remove Elem 7
    <input type="checkbox" ng-model="removeElem8" /> Remove Elem 8
    <input type="checkbox" ng-model="removeElem9" /> Remove Elem 9
    <div id="d1" ng-hide="hideElem1">Element 1</div>
    <div id="d2" ng-hide="hideElem2">Element 2</div>
    <div id="d3" ng-hide="hideElem3">Element 3</div>
    <div id="d4" ng-show="showElem4">Element 4</div>
    <div id="d5" ng-show="showElem5">Element 5</div>
    <div id="d6" ng-show="showElem6">Element 6</div>
    <div id="d7" ng-if="removeElem7">Element 7</div>
    <div id="d8" ng-if="removeElem8">Element 8</div>
    <div id="d9" ng-if="removeElem9">Element 9</div>
</div>
<div ng-controller="StyleCtrl" class="container"><!-- ng-class позволяет динамически устанавливать классы стилей для
HTML-элементов через привязку данных и выражения-->
    <div class="row well">
        <div class="radio" ng-repeat="item in classNames">
            <label>
                <input type="radio" name="color" ng-model="$parent.selectedClass" value="{{item.value}}"/>{{item.display}}
            </label>
        </div>
    </div>
    <div class="test-div" ng-class="selectedClass">{{selectedClass}}</div> <!-- директива ng-class выполняя выражение,
    которое находится в его значении selectedClass, получает имя класса и привязывает его к обычному атрибуту класса  -->
    <button ng-click="clickHandler()">Set classes_строка_стилей</button> <!-- ng-class если выражение содержит строки, разделенные
    пробелами, каждая строка будет восприниматься как отдельный класс, т.е мы можем передавать несколько классов, которые
    будут устанавливаться в атрибуты HHTML-элемента-->
    <div ng-class="classNames">Test_строка_стилей</div> <!-- при нажатии кнопки вызывается функцияclickHandler, которая устанавливает классы для дива-->
    <button ng-click="clickHandler1()">Set classes_массив_строк-стилей</button> <!-- ng-class выражение содержит массив строковых значений,
    каждая элемент которого будет восприниматься как отдельный класс, т.е мы можем передавать несколько классов, которые
    будут устанавливаться в атрибуты HHTML-элемента-->
    <div ng-class="classNames1">Test1_массив_строк-стилей</div> <!-- при нажатии кнопки вызывается функция clickHandler1(),
                                                                которая устанавливает классы для дива-->
    <input type="checkbox" ng-model="styleObjBool.color" /> Color
    <input type="checkbox" ng-model="styleObjBool.border" /> Border
    <input type="checkbox" ng-model="styleObjBool.size" /> Size
    <div ng-class="styleObjBool">Test2_объект_стилей_Boolean</div><!-- если в качестве значения директива получает объект с булевыми свойствами,
     каждый ключ объекта будет устанавливать стиль и значение измененное чекбоксом в свойстве scope styleObjBool на true будет указывать какие
     классы стилей привязать к диву-->
    <div ng-class="styleObjString" ng-style="styleObjString">Test3_объект_стилей_String</div>
    <!-- если в качестве значения директива получает объект с строковыми свойствами, каждый ключ объекта будет
    устанавливать стиль, ng-style позволяет указать какой стиль привязывается к данному элементу -->
    <div class="container"><!-- директивы ng-class-even="class1" ng-class-odd в связке ng-repeat позволяют устанавливать определенные классы-->
        <ul>
            <li ng-repeat="item in items" ng-class-even="class1" ng-class-odd="class2">{{item}}</li> <!-- каждый элемент
             в зависимости от своей позиции(четн.нечетн) в дом-дереве будет получать свой класс стилей .red .green
             из свойства скоупа и находить их таблице стилей-->
        </ul>
    </div>
</div>
<div ng-controller="EventCtrl" class="container"><!--обработчики событий -->
    <button ng-click="count = count + 1">Increment</button>
    <span>count: {{count}}</span>
    <div class="test" ng-mouseenter="handleEvent($event)" ng-mouseleave="handleEvent($event)">{{type}}</div>
    <!-- обработка событий через директивы ng-mouseenter ng-mouseleave, в качестве параметра выхзываемой функции в результате
    события передаём объект $event, который содержит является описанием того какое событие произошло и предоставляет методы для
    управления этим событием-->
    <ul>
        <li ng-repeat="item in ['red', 'green', 'blue']" ng-click="clickHandler(item)">{{item}}</li>
        <!--используем заготовленный массив в качестве items в директиве ng-repeat, при клике по сгенерированному списку
        состоящему из item вызываем функцию, которая в алерте покажет информацию о элементе, на котором клинули-->
    </ul>
    <table class="table table-striped table-hover">
        <thead>
            <tr class="h5">
                <td>Директива</td>
                <td>Устанавливается как</td>
                <td>Обработчик на</td>
            </tr>
        </thead>
        <tbody ng-repeat="item in items">
                <tr>
                    <td>{{item.name}}</td>
                    <td>{{item.apply}}</td>
                    <td>{{item.description}}</td>
                </tr>
        </tbody>
    </table>
</div>
</body>
</html>
